# Efficient operations of a Layer-1 Node on a decentralized cloud

## Description

Layer-1 protocols face a major dilemma that is hard to solve: either run their nodes in hyperscale datacenters whic provide all the knowledge and capabilities to keep a cloud up and running but lead to a centralised install base of relay on IT Sacy community memmbers that can run the nodes on bare metal outside of the hyperscale cloud providers. The two options provide a solid foundation to run the layer-1 nodes on but lead to centralissation. For example AWS as a hypersacaler has made onboarding of ethereums nodes very simple and therefore a. high percentage of the etherum nodes live inside AWS datacenters (https://thenextweb.com/news/ethereum-nodes-cloud-services-amazon-web-services-blockchain-hosted-decentralization).

This is not what layer-1 protocols are about. They are predominantly about decentralising applications, services, transactions, storage and networking. To do this on a centralised platform as a way to do it, but we believe that there should eb a healthy balance between relying on hyperscalers, system administrators that can do it decentralised and than a third option which is "easy, one-click deployment method" for anyone that wants to contribute to the project on a decentralised and distributed grid of compute and storage capacity.

ThreeFold have been building such a grid of "data processing and storage" generators for the past decade and is currently in beta operational stage.
These data generators (3nodes) are autonomous and very safe and secure. 3nodes can exists everywhere where there is electricity and network connectivity. They do not provide access or interfaces for people, both physical and access over the network. Instead of getting “instructions” what to do by a command and control infrastructure they use a distributed ledger (blockchain) to learn what needs to be started or stopped . The 3nodes will start and stop applications (containerized) based on what “workloads” are described in this operational blockchain by smart contracts. No administrator, person, owner can make this 3nodes do anything else than what is written in these smart contracts.

The is the results of years of hard work and as stated before this is now operational (beta) and has a dev, test and mainnet. Mainnet has about 43000 cores, 7PB of SSD and 32 PB of spinning disks online (global) and is growing fast. For more information please see here: https://explorerv3.grid.tf/. The current growth strategy for the grid is to build community clouds. Community clouds are 3node that are integrated in real-estate developments, in green enery projects (solar and wind) and anything real estate where power and network are available. The first proofpoint of this happening is a project being bilt in Dubai: https://finance.yahoo.com/news/paradise-hills-property-development-threefold-150000884.html. The working assumption here is there will be a fast growing amount of community clouds developed and available over the coming months and years and therefore it can be a valuable addition to the Casperlabs node footprint.

This grant proposal wants to make all of this technology available to the Casperlabs community and help it to prospher and excel in a number of different ways.

Enhance the footprint of CasperLabs nodes the ability to deploy nodes outside of hyperscaler datacenters and inside communities of people optimising network access and cost
Enhance the carbon footprint of the CasperLabs nodes by using energy efficient 3nodes and built in carbon offsets
Enable people in developing countries to partake in this project and allows them to build local smart contracting solution to prospher their local economy and become less dependent on the rest of the world.
This can all be done with the technology as it stands today and it s good proofpoint / first milestone to achieve. The bigger benefit is something that needs to be developped but has already a substantial number of building block ready to go. The ultimate goal of this grant proposal is to create and bild a blockchain pruning mechanism that allows the blockchain to grow forever and have cost efficient nodes everywhere securing operations of the layer 1 protocol

## Benefits

Layer-1 protocols face a major dilemma that is hard to solve: either run their nodes in hyperscale datacenters whic provide all the knowledge and capabilities to keep a cloud up and running but lead to a centralised install base of relay on IT Sacy community memmbers that can run the nodes on bare metal outside of the hyperscale cloud providers. The two options provide a solid foundation to run the layer-1 nodes on but lead to centralissation. For example AWS as a hypersacaler has made onboarding of ethereums nodes very simple and therefore a. high percentage of the etherum nodes live inside AWS datacenters (https://thenextweb.com/news/ethereum-nodes-cloud-services-amazon-web-services-blockchain-hosted-decentralization).

This is not what layer-1 protocols are about. They are predominantly about decentralising applications, services, transactions, storage and networking. To do this on a centralised platform as a way to do it, but we believe that there should eb a healthy balance between relying on hyperscalers, system administrators that can do it decentralised and than a third option which is "easy, one-click deployment method" for anyone that wants to contribute to the project on a decentralised and distributed grid of compute and storage capacity.

ThreeFold have been building such a grid of "data processing and storage" generators for the past decade and is currently in beta operational stage.
These data generators (3nodes) are autonomous and very safe and secure. 3nodes can exists everywhere where there is electricity and network connectivity. They do not provide access or interfaces for people, both physical and access over the network. Instead of getting “instructions” what to do by a command and control infrastructure they use a distributed ledger (blockchain) to learn what needs to be started or stopped . The 3nodes will start and stop applications (containerized) based on what “workloads” are described in this operational blockchain by smart contracts. No administrator, person, owner can make this 3nodes do anything else than what is written in these smart contracts.

The is the results of years of hard work and as stated before this is now operational (beta) and has a dev, test and mainnet. Mainnet has about 43000 cores, 7PB of SSD and 32 PB of spinning disks online (global) and is growing fast. For more information please see here: https://explorerv3.grid.tf/. The current growth strategy for the grid is to build community clouds. Community clouds are 3node that are integrated in real-estate developments, in green enery projects (solar and wind) and anything real estate where power and network are available. The first proofpoint of this happening is a project being bilt in Dubai: https://finance.yahoo.com/news/paradise-hills-property-development-threefold-150000884.html. The working assumption here is there will be a fast growing amount of community clouds developed and available over the coming months and years and therefore it can be a valuable addition to the Casperlabs node footprint.

This grant proposal wants to make all of this technology available to the Casperlabs community and help it to prospher and excel in a number of different ways.

Enhance the footprint of CasperLabs nodes the ability to deploy nodes outside of hyperscaler datacenters and inside communities of people optimising network access and cost
Enhance the carbon footprint of the CasperLabs nodes by using energy efficient 3nodes and built in carbon offsets
Enable people in developing countries to partake in this project and allows them to build local smart contracting solution to prospher their local economy and become less dependent on the rest of the world.
This can all be done with the technology as it stands today and it s good proofpoint / first milestone to achieve. The bigger benefit is something that needs to be developped but has already a substantial number of building block ready to go. The ultimate goal of this grant proposal is to create and bild a blockchain pruning mechanism that allows the blockchain to grow forever and have cost efficient nodes everywhere securing operations of the layer 1 protocol

## License

MIT License

## Resume

https://www.linkedin.com/in/weynandkuijpers/

## References about the project

A lot of what if currently available and will be used to deliver towards the milestones of this grant applications is presented here: https://library.threefold.me/info/threefold#/

## Team

Kristof de Spiegeleer
Ahmed Thabet
Lee Smet

## Total amount grant: 215,000 USD

To organisation: ThreeFold Tech, Luxembourg

Budget
Salary + compensation: 200,000 USD
Travel + conferences : - 
Software + Tools + Infrastructure: 15,000 USD
Legal, accounting, recruiting: -
Other: -

## Milestone 1: One click CasperLabs deployment

### Deliverable

The 1-click blockchain (Casper Labs and / or others) node deployment solution - powered by ThreeFold's P2P cloud, using Terraform and/or Docker. The ThreeFold grid has been up and running since 2018 and has a large quantity of compute and storage resources. The TF Grid is owned by independent farmers that believe in decentralized capacity generation everywhere. Over the last year, a number of blockchain projects have been looking for easy deployment options to allow their communities to have an alternative to "run a node on centralised clouds" to do it all yourself. We can offer a super exciting way here on top of our TFGrid.

### Acceptance Criteria

- One click deployment mechanism operational and functioning
- Onde click deployment mechanism demo'd
- All code required to do so available in a github repository
- All code reviewed

### Grant portion

5,000 USD

### Date

6/30/2022

## Milestone 2: whitepaper on blockchain pruning for CasperLabs layer-1 blockchain

### Deliverable

Based on the technology currently available in ThreeFold Tech and newly developed code using the storage algorithms (zero knowledge proof) a research document on how to build a pruning mechanism for the CapserLabs layer-1 blockchain.

### Acceptance Criteria

- whitepaper published with blockchain pruning mechanism architecture. 
- whitepaper presented and explained
- delivery of a project plan to how to implement this pruning system (milstone 3)

### Grant portion

25,000 USD

### Date

7/30/2022

## Milestone 3: Building a MVP for CasperLabs blockchain pruning

### Deliverable

- Architecture presented in Milestone 2 implemented in code
- All necessary work with Casperlabs engineers done and signed off if changes are required to CasperLabs code
- All necessary work with Threefold Tech done and signed off
- Code implemented and ready for MVP on TF Grid.

### Acceptance Criteria

All of the above details are presented, build and operational.

### Grant portion

185,000 USD

### Date

12/30/2022
